(this["webpackJsonpcoord-take-home"]=this["webpackJsonpcoord-take-home"]||[]).push([[0],{23:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var r=n(1),s=n.n(r),c=n(16),a=n.n(c),i=(n(23),n(7)),o=n.n(i),l=n(17),u=n(3),d=n(18),h=n.n(d),j=n(5),b=n(4),p=n.n(b),O=n(0),g=["New York, NY","Brooklyn, NY","Queens, NY","Staten Island, NY","Bronx, NY"],f=function(e){var t=e.setLatitude,n=e.setLongitude,s=e.setIsGeocoding,c=e.setError,a=e.clearResponse,i=Object(r.useState)(""),o=Object(u.a)(i,2),l=o[0],d=o[1],h=Object(r.useState)(!1),f=Object(u.a)(h,2),v=f[0],m=f[1],x=function(){d(""),m(!1),t(null),n(null),a()},k=function(){x()};return Object(O.jsx)(p.a,{value:l,onChange:function(e){d(e)},onSelect:function(e){d(e),!function(e){for(var t=0;t<g.length;t++)if(e.includes(g[t]))return!0;return!1}(e)?v&&x():(m(!0),s(!0),Object(b.geocodeByAddress)(e).then((function(e){return Object(b.getLatLng)(e[0])})).then((function(e){var r=e.lat,c=e.lng;t(r),n(c),s(!1)})).catch((function(e){c(e),s(!1)})))},highlightFirstSuggestion:!0,children:function(e){var t=e.getInputProps,n=e.suggestions,r=e.getSuggestionItemProps;return Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("input",Object(j.a)({},t({placeholder:"Search Places...",className:"search-input"}))),l.length>0&&Object(O.jsx)("button",{className:"clear-button",onClick:k,children:"x"})]}),n.length>0&&Object(O.jsx)("div",{children:n.map((function(e,t){return Object(O.jsxs)("div",Object(j.a)(Object(j.a)({},r(e,{})),{},{children:[Object(O.jsx)("strong",{children:e.formattedSuggestion.mainText})," ",Object(O.jsx)("small",{children:e.formattedSuggestion.secondaryText})]}),t)}))})]})}})},v="https://api.coord.co/v1/search/curbs/bylocation/time_rules?",m=new URLSearchParams({radius_km:"0.3",access_key:"_4q3U98ZlESpBMzlXiKCOrIsOb8aQPTDXwcQTwyNpcc",permitted_use:"park",vehicle_type:"all"}),x=function(){var e=Object(r.useState)(),t=Object(u.a)(e,2),n=t[0],s=t[1],c=Object(r.useState)(),a=Object(u.a)(c,2),i=a[0],d=a[1],j=Object(r.useState)(),b=Object(u.a)(j,2),p=b[0],g=b[1],x=Object(r.useState)(),k=Object(u.a)(x,2),y=k[0],S=k[1],N=Object(r.useState)(!1),w=Object(u.a)(N,2),T=w[0],_=w[1],I=Object(r.useState)(!1),L=Object(u.a)(I,2),P=L[0],Y=L[1];Object(r.useEffect)((function(){if(n&&i){function e(){return(e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m.set("latitude",n),m.set("longitude",i),e.next=5,h.a.get(v+m.toString());case 5:t=e.sent,g(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),S(e.t0);case 12:return e.prev=12,_(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})))).apply(this,arguments)}_(!0),function(){e.apply(this,arguments)}()}}),[n,i]);return Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{children:["Welcome! This app takes an address within one of the five boroughs of NYC and returns the number of available parking spots within 0.3 km (about 1000 feet).",Object(O.jsx)("div",{className:"disclaimer",children:"Disclaimers:"}),Object(O.jsxs)("ul",{children:[Object(O.jsx)("li",{children:"The parking spots returned are all at least 5.5m (18 feet) long. This means they'll fit cars like Toyota Camrys (16 feet long), but not large trucks."}),Object(O.jsx)("li",{children:"Any type of car can park in these spots \u2013 not just commercial vehicles."}),Object(O.jsx)("li",{children:"The Google Geocoding/Places API costs $0.005/request so I've set a quota of 100 requests per day, which resets at midnight Pacific Time."})]})]}),Object(O.jsx)(f,{setLatitude:s,setLongitude:d,setIsGeocoding:Y,setError:S,clearResponse:function(){return g(null)}}),function(){var e,t,r,s;return y?Object(O.jsxs)("div",{children:["Error! ",y]}):P||T?Object(O.jsx)("div",{children:"Loading..."}):n&&i?((null===p||void 0===p||null===(e=p.data)||void 0===e||null===(t=e.features)||void 0===t?void 0:t.length)>0&&(s=p.data.features.filter((function(e){var t,n,r,s,c=null===e||void 0===e||null===(t=e.properties)||void 0===t||null===(n=t.metadata)||void 0===n?void 0:n.distance_end_meters,a=null===e||void 0===e||null===(r=e.properties)||void 0===r||null===(s=r.metadata)||void 0===s?void 0:s.distance_start_meters;return!(!a||!c)&&c-a>=5.5}))),Object(O.jsxs)("div",{children:["There are ",(null===(r=s)||void 0===r?void 0:r.length)||0," parking spots nearby."]})):Object(O.jsx)("div",{children:"Enter an NYC address above to get the number of parking spaces near you"})}(),Object(O.jsx)("div",{className:"github-link",children:Object(O.jsx)("a",{href:"https://github.com/byrnehollander/coord-take-home/",rel:"noopener noreferrer",target:"_blank",children:"View code on Github"})})]})};a.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(x,{})}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.43e9aadc.chunk.js.map