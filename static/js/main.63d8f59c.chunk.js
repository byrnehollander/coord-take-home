(this["webpackJsonpcoord-take-home"]=this["webpackJsonpcoord-take-home"]||[]).push([[0],{23:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var s=n(1),r=n.n(s),c=n(16),a=n.n(c),i=(n(23),n(7)),o=n.n(i),l=n(17),u=n(3),d=n(18),j=n.n(d),h=n(5),b=n(4),p=n.n(b),g=n(0),O=["New York, NY","Brooklyn, NY","Queens, NY","Staten Island, NY","Bronx, NY"],f=function(e){var t=e.setLatitude,n=e.setLongitude,r=e.setIsGeocoding,c=e.setError,a=e.clearResponse,i=Object(s.useState)(""),o=Object(u.a)(i,2),l=o[0],d=o[1],j=Object(s.useState)(!1),f=Object(u.a)(j,2),v=f[0],m=f[1],x=function(){d(""),m(!1),t(null),n(null),a()};return Object(g.jsx)(p.a,{value:l,onChange:function(e){d(e)},onSelect:function(e){d(e),!function(e){for(var t=0;t<O.length;t++)if(e.includes(O[t]))return!0;return!1}(e)?v&&m(!1):(m(!0),r(!0),Object(b.geocodeByAddress)(e).then((function(e){return Object(b.getLatLng)(e[0])})).then((function(e){var s=e.lat,c=e.lng;t(s),n(c),r(!1)})).catch((function(e){c(e),r(!1)})))},highlightFirstSuggestion:!0,children:function(e){var t=e.getInputProps,n=e.suggestions,s=e.getSuggestionItemProps;return Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{children:[Object(g.jsx)("input",Object(h.a)({},t({placeholder:"Search Places...",className:"search-input"}))),l.length>0&&Object(g.jsx)("button",{className:"clear-button",onClick:x,children:"x"})]}),n.length>0&&Object(g.jsx)("div",{children:n.map((function(e,t){return Object(g.jsxs)("div",Object(h.a)(Object(h.a)({},s(e,{})),{},{children:[Object(g.jsx)("strong",{children:e.formattedSuggestion.mainText})," ",Object(g.jsx)("small",{children:e.formattedSuggestion.secondaryText})]}),t)}))})]})}})},v="https://api.coord.co/v1/search/curbs/bylocation/time_rules?",m=new URLSearchParams({radius_km:"0.3",access_key:"_4q3U98ZlESpBMzlXiKCOrIsOb8aQPTDXwcQTwyNpcc",primary_use:"park",vehicle_type:"all"}),x=function(){var e=Object(s.useState)(),t=Object(u.a)(e,2),n=t[0],r=t[1],c=Object(s.useState)(),a=Object(u.a)(c,2),i=a[0],d=a[1],h=Object(s.useState)(),b=Object(u.a)(h,2),p=b[0],O=b[1],x=Object(s.useState)(),k=Object(u.a)(x,2),y=k[0],S=k[1],T=Object(s.useState)(!1),w=Object(u.a)(T,2),N=w[0],_=w[1],I=Object(s.useState)(!1),L=Object(u.a)(I,2),P=L[0],Y=L[1];Object(s.useEffect)((function(){if(n&&i){function e(){return(e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m.set("latitude",n),m.set("longitude",i),e.next=5,j.a.get(v+m.toString());case 5:t=e.sent,O(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),S(e.t0);case 12:return e.prev=12,_(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})))).apply(this,arguments)}_(!0),function(){e.apply(this,arguments)}()}}),[n,i]);return Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{children:["Welcome! This app takes an address within one of the five boroughs of NYC and returns the number of available parking spots within 0.3 km (about 1000 feet).",Object(g.jsx)("div",{style:{marginTop:20,fontWeight:600},children:"Disclaimers:"}),Object(g.jsxs)("ul",{children:[Object(g.jsx)("li",{children:"The parking spots returned are all at least 5.5m (18 feet) long. This means they'll fit cars like Toyota Camrys (16 feet long), but not large trucks."}),Object(g.jsx)("li",{children:"Any type of car can park in these spots \u2013 not just commercial vehicles."}),Object(g.jsx)("li",{children:"The Google Geocoding/Places API costs $0.005/request so I've set a quota of 100 requests per day, which resets at midnight Pacific Time."})]})]}),Object(g.jsx)(f,{setLatitude:r,setLongitude:d,setIsGeocoding:Y,setError:S,clearResponse:function(){return O(null)}}),function(){var e,t,s,r;return P||N?Object(g.jsx)("div",{children:"Loading..."}):n&&i?y?Object(g.jsxs)("div",{children:["Error! ",y]}):((null===p||void 0===p||null===(e=p.data)||void 0===e||null===(t=e.features)||void 0===t?void 0:t.length)>0&&(r=p.data.features.filter((function(e){var t,n,s,r,c=null===e||void 0===e||null===(t=e.properties)||void 0===t||null===(n=t.metadata)||void 0===n?void 0:n.distance_end_meters,a=null===e||void 0===e||null===(s=e.properties)||void 0===s||null===(r=s.metadata)||void 0===r?void 0:r.distance_start_meters;return!(!a||!c)&&c-a>=5.5}))),Object(g.jsxs)("div",{children:["There are ",(null===(s=r)||void 0===s?void 0:s.length)||0," parking spots nearby."]})):Object(g.jsx)("div",{children:"Enter an NYC address above to get the number of parking spaces near you"})}()]})};a.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(x,{})}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.63d8f59c.chunk.js.map